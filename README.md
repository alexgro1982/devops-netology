# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1
Полная виртуализация, это такой тип виртуализации при которой гипервизор получает доступ к устройствам хоста без участия ОС, т.к. сам выступает в роли операционной системы со своими драйверами. Нодостаток данного типа в ограниченом списке оборудования, поддерживаемом гипервизором.

Паравиртуализация. Между гипервизором и аппаратным обеспечением есть ещё один слой - ОС. Гипервизор модифицирует ядро гостя для разделения аппаратных ресурсов.

Виртуализация уровня ОС - такой тип виртуализации при котором ядром гостевой машины я вляется ядро хоста.

## Задача 2
- **Высоконагруженная база данных, чувствительная к отказу.**  
В данном случае можно использовать 2 варианта.
 1. Запустить на физических серверах, используя функционал СУБД для кластеризации.
 2. Паравиртуализация. Запустить на кластере из гипервизоров с возможностью миграции и т.д.

- **Различные web-приложения.**  
Виртуализация уровня ОС, т.к. можно использовать Linux, и запустить несколько окружений с общим ядром, и на них крутить WEB-сервер.

- **Windows системы для использования бухгалтерским отделом.**
Паравиртуализация на основн гипервизора Hyper-V. Hyper-V работает на ОС Windows и показывает неплохую производительность гостей на ОС Windows.

- **Системы, выполняющие высокопроизводительные расчеты на GPU.**  
Физические сервера, т.к. любая виртуализация влечёт за собой некоторое снижение производительности гостевых систем.

## Задача 3

1. **100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.**

В данном случае подойдёт виртуализация на базе VMWare vSphere. Гипервизор позволяет запускать гостей как на Linux так и на Windows. Имеет неплохую производительность. Умеет производить репликацию виртуальных машин (vSphere Replication). Имеет хорошие инструменты для резервного копирования (VEEAM).

2. **Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.**

Для выполнения этой задачи отлично подойдут системы виртуализации на базе KVM. Например ProxMox. Хосты Proxmox можно собрать в кластер. Реализована поддержка нескольких типов хранилищ.

3. **Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.**

В данном случае идеально подойдёт решение на основе Hyper-V. Гипервизор имеет отличную совместимость с ОС Windows, т.к. разработан компанией Microsoft.

4. **Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.**

Можно использовать VirtualBox с vagrent. 

## Задача 4  

Недостатки гетерогенной среды виртуализации:
- отсутсвие единой системы управления;
- страдает балансировка нагрузки;
- миграция виртуальных машин между разными системами проблематична;
- Высокая квалификация администраторов, обслуживающих систему;
- Повышается риск ошибки администратора;
- Высокие затраты на поддержку вендером (в случае использования коммерческих решений).

Минимизация рсков в гетерогенной системе виртуализации:
- использование единой системы мониторинга нагрузки;
- увеличить производительность хостов для уменьшения влияния невозможности балансировки нагрузки между системами;
- использование подхода IaC

Основной проблемой однородной системы виртуализации заключается в нестабильности и падении производительности виртуальных машин с "неродной" операционной системой. 
При проектировании системы виртуализации нужно учесть требования к производительности гостевых машин. Если допустимо небольшое падение производительности, то лучше использовать однородную систему виртуализации. В данный момиент VMWare и KVM поддерживают поддерживают в качестве гостя как linux так и windows. Но производительность виртуальных машин на ОС Windows немного ниже, чем если бы они работали на Hyper-V.

